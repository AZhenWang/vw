create table income (
   id int not null auto_increment,
   code_id INT NOT NULL,
   date_id INT NOT NULL comment'公告日期',
   f_ann_date varchar(8) NOT NULL comment'实际公告日期',
   end_date varchar(8) NOT NULL comment'报告期',
   report_type tinyint NOT NULL comment'报告类型 1合并报表 2单季合并 3调整单季合并表 4调整合并报表 5调整前合并报表 6母公司报表 7母公司单季表 8 母公司调整单季表 9母公司调整表 10母公司调整前报表 11调整前合并报表 12母公司调整前报表',
   comp_type tinyint NOT NULL comment'公司类型(1一般工商业2银行3保险4证券)',
   basic_eps float  NULL comment'基本每股收益',
   diluted_eps float  NULL comment'稀释每股收益',
   total_revenue float  NULL comment'营业总收入',
   revenue float  NULL comment'营业收入',
   int_income float  NULL comment'利息收入',
   prem_earned float  NULL comment'已赚保费',
   comm_income float  NULL comment'手续费及佣金收入',
   n_commis_income float  NULL comment'手续费及佣金净收入',
   n_oth_income float  NULL comment'其他经营净收益',
   n_oth_b_income float  NULL comment'加:其他业务净收益',
   prem_income float  NULL comment'保险业务收入',
   out_prem float  NULL comment'减:分出保费',
   une_prem_reser float  NULL comment'提取未到期责任准备金',
   reins_income	float  NULL comment'其中:分保费收入',
   n_sec_tb_income	float  NULL comment'代理买卖证券业务净收入',
   n_sec_uw_income	float  NULL comment'证券承销业务净收入',
   n_asset_mg_income float  NULL comment'受托客户资产管理业务净收入',
   oth_b_income	float  NULL comment'其他业务收入',
   fv_value_chg_gain	float  NULL comment'加:公允价值变动净收益',
   invest_income float  NULL comment'加:投资净收益',
   ass_invest_income	float  NULL comment'其中:对联营企业和合营企业的投资收益',
   forex_gain	float  NULL comment'加:汇兑净收益',
   total_cogs	float  NULL comment'营业总成本',
   oper_cost	float  NULL comment'减:营业成本',
   int_exp	float  NULL comment'减:利息支出',
   comm_exp	float  NULL comment'减:手续费及佣金支出',
   biz_tax_surchg	float  NULL comment'减:营业税金及附加',
   sell_exp		float  NULL comment'减:销售费用',
   admin_exp	float  NULL comment'减:管理费用',
   fin_exp	float  NULL comment'减:财务费用',
   assets_impair_loss	float  NULL comment'减:资产减值损失',
   prem_refund	float  NULL comment'退保金',
   compens_payout	float  NULL comment'赔付总支出',
   reser_insur_liab	float  NULL comment'提取保险责任准备金',
   div_payt	float  NULL comment'保户红利支出',
   reins_exp	float  NULL comment'分保费用',
   oper_exp	float  NULL comment'营业支出',
   compens_payout_refu	float  NULL comment'减:摊回赔付支出',
   insur_reser_refu	float  NULL comment'减:摊回保险责任准备金',
   reins_cost_refund	float  NULL comment'减:摊回分保费用',
   other_bus_cost	float  NULL comment'其他业务成本',
   operate_profit	float  NULL comment'营业利润',
   non_oper_income	float  NULL comment'加:营业外收入',
   non_oper_exp	float  NULL comment'减:营业外支出',
   nca_disploss	float  NULL comment'其中:减:非流动资产处置净损失',
   total_profit	float  NULL comment'利润总额',
   income_tax	float  NULL comment'所得税费用',
   n_income	float  NULL comment'净利润(含少数股东损益)',
   n_income_attr_p	float  NULL comment'净利润(不含少数股东损益)',
   minority_gain	float  NULL comment'少数股东损益',
   oth_compr_income	float  NULL comment'其他综合收益',
   t_compr_income	float  NULL comment'综合收益总额',
   compr_inc_attr_p	float  NULL comment'归属于母公司(或股东)的综合收益总额',
   compr_inc_attr_m_s	float  NULL comment'归属于少数股东的综合收益总额',
   ebit	float  NULL comment'息税前利润',
   ebitda	float  NULL comment'息税折旧摊销前利润',
   insurance_exp	float  NULL comment'保险业务支出',
   undist_profit	float  NULL comment'年初未分配利润',
   distable_profit	float  NULL comment'可分配利润',
   created_at timestamp null default CURRENT_TIMESTAMP,
   PRIMARY KEY(id),
   CONSTRAINT symbol UNIQUE KEY `unique_code_end_date`(`end_date`, `code_id`,  `report_type`)
)ENGINE=MyISAM DEFAULT CHARSET=utf8 comment'利润表';


create table balancesheet (
   id int not null auto_increment,
   code_id INT NOT NULL,
   date_id INT NOT NULL comment'公告日期',
   f_ann_date varchar(8) NOT NULL comment'实际公告日期',
   end_date varchar(8) NOT NULL comment'报告期',
   report_type tinyint NOT NULL comment'报告类型 1合并报表 2单季合并 3调整单季合并表 4调整合并报表 5调整前合并报表 6母公司报表 7母公司单季表 8 母公司调整单季表 9母公司调整表 10母公司调整前报表 11调整前合并报表 12母公司调整前报表',
   comp_type tinyint NOT NULL comment'公司类型(1一般工商业2银行3保险4证券)',
   total_share	float	NULL comment'	期末总股本',
   cap_rese	float	NULL comment'	资本公积金',
   undistr_porfit	float	NULL comment'未分配利润',
   surplus_rese	float	NULL comment'	盈余公积金',
   special_rese	float	NULL comment'	专项储备',
   money_cap	float	NULL comment'	货币资金',
   trad_asset	float	NULL comment'	交易性金融资产',
   notes_receiv	float	NULL comment'	应收票据',
   accounts_receiv	float	NULL comment'	应收账款',
   oth_receiv	float	NULL comment'	其他应收款',
   prepayment	float	NULL comment'	预付款项',
   div_receiv	float	NULL comment'	应收股利',
   int_receiv	float	NULL comment'	应收利息',
   inventories	float	NULL comment'	存货',
   amor_exp	float	NULL comment'	长期待摊费用',
   nca_within_1y	float	NULL comment'	一年内到期的非流动资产',
   sett_rsrv	float	NULL comment'	结算备付金',
   loanto_oth_bank_fi	float	NULL comment'	拆出资金',
   premium_receiv	float	NULL comment'	应收保费',
   reinsur_receiv	float	NULL comment'	应收分保账款',
   reinsur_res_receiv	float	NULL comment'	应收分保合同准备金',
   pur_resale_fa	float	NULL comment'	买入返售金融资产',
   oth_cur_assets	float	NULL comment'	其他流动资产',
   total_cur_assets	float	NULL comment'	流动资产合计',
   fa_avail_for_sale	float	NULL comment'	可供出售金融资产',
   htm_invest	float	NULL comment'	持有至到期投资',
   lt_eqt_invest	float	NULL comment'	长期股权投资',
   invest_real_estate	float	NULL comment'	投资性房地产',
   time_deposits	float	NULL comment'	定期存款',
   oth_assets	float	NULL comment'	其他资产',
   lt_rec	float	NULL comment'	长期应收款',
   fix_assets	float	NULL comment'	固定资产',
   cip	float	NULL comment'	在建工程',
   const_materials	float	NULL comment'	工程物资',
   fixed_assets_disp	float	NULL comment'	固定资产清理',
   produc_bio_assets	float	NULL comment'	生产性生物资产',
   oil_and_gas_assets	float	NULL comment'	油气资产',
   intan_assets	float	NULL comment'	无形资产',
   r_and_d	float	NULL comment'	研发支出',
   goodwill	float	NULL comment'	商誉',
   lt_amor_exp	float	NULL comment'	长期待摊费用',
   defer_tax_assets	float	NULL comment'	递延所得税资产',
   decr_in_disbur	float	NULL comment'	发放贷款及垫款',
   oth_nca	float	NULL comment'	其他非流动资产',
   total_nca	float	NULL comment'	非流动资产合计',
   cash_reser_cb	float	NULL comment'	现金及存放中央银行款项',
   depos_in_oth_bfi	float NULL comment'	存放同业和其它金融机构款项',
   prec_metals	float	NULL comment'	贵金属',
   deriv_assets	float	NULL comment'	衍生金融资产',
   rr_reins_une_prem	float	NULL comment'	应收分保未到期责任准备金',
   rr_reins_outstd_cla	float	NULL comment'	应收分保未决赔款准备金',
   rr_reins_lins_liab	float	NULL comment'	应收分保寿险责任准备金',
   rr_reins_lthins_liab	float	NULL comment'	应收分保长期健康险责任准备金',
   refund_depos	float	NULL comment'	存出保证金',
   ph_pledge_loans	float	NULL comment'	保户质押贷款',
   refund_cap_depos	float	NULL comment'	存出资本保证金',
   indep_acct_assets	float	NULL comment'	独立账户资产',
   client_depos	float	NULL comment'	其中：客户资金存款',
   client_prov	float	NULL comment'	其中：客户备付金',
   transac_seat_fee	float	NULL comment'	其中:交易席位费',
   invest_as_receiv	float	NULL comment'	应收款项类投资',
   total_assets	float	NULL comment'	资产总计',
   lt_borr	float	NULL comment'	长期借款',
   st_borr	float	NULL comment'	短期借款',
   cb_borr	float	NULL comment'	向中央银行借款',
   depos_ib_deposits	float	NULL comment'	吸收存款及同业存放',
   loan_oth_bank	float	NULL comment'	拆入资金',
   trading_fl	float	NULL comment'	交易性金融负债',
   notes_payable	float	NULL comment'	应付票据',
   acct_payable	float	NULL comment'	应付账款',
   adv_receipts	float	NULL comment'	预收款项',
   sold_for_repur_fa	float	NULL comment'	卖出回购金融资产款',
   comm_payable	float	NULL comment'	应付手续费及佣金',
   payroll_payable	float	NULL comment'	应付职工薪酬',
   taxes_payable	float	NULL comment'	应交税费',
   int_payable	float	NULL comment'	应付利息',
   div_payable	float	NULL comment'	应付股利',
   oth_payable	float	NULL comment'	其他应付款',
   acc_exp	float	NULL comment'	预提费用',
   deferred_inc	float	NULL comment'	递延收益',
   st_bonds_payable	float	NULL comment'	应付短期债券',
   payable_to_reinsurer	float	NULL comment'	应付分保账款',
   rsrv_insur_cont	float	NULL comment'	保险合同准备金',
   acting_trading_sec	float	NULL comment'	代理买卖证券款',
   acting_uw_sec	float	NULL comment'	代理承销证券款',
   non_cur_liab_due_1y	float	NULL comment'	一年内到期的非流动负债',
   oth_cur_liab	float	NULL comment'	其他流动负债',
   total_cur_liab	float	NULL comment'	流动负债合计',
   bond_payable	float	NULL comment'	应付债券',
   lt_payable	float	NULL comment'	长期应付款',
   specific_payables	float	NULL comment'	专项应付款',
   estimated_liab	float	NULL comment'	预计负债',
   defer_tax_liab	float	NULL comment'	递延所得税负债',
   defer_inc_non_cur_liab	float	NULL comment'	递延收益-非流动负债',
   oth_ncl	float	NULL comment'	其他非流动负债',
   total_ncl	float	NULL comment'	非流动负债合计',
   depos_oth_bfi	float	NULL comment'	同业和其它金融机构存放款项',
   deriv_liab	float	NULL comment'	衍生金融负债',
   depos	float	NULL comment'	吸收存款',
   agency_bus_liab	float	NULL comment'	代理业务负债',
   oth_liab	float	NULL comment'	其他负债',
   prem_receiv_adva	float	NULL comment'	预收保费',
   depos_received	float	NULL comment'	存入保证金',
   ph_invest	float	NULL comment'	保户储金及投资款',
   reser_une_prem	float	NULL comment'	未到期责任准备金',
   reser_outstd_claims	float	NULL comment'	未决赔款准备金',
   reser_lins_liab	float	NULL comment'	寿险责任准备金',
   reser_lthins_liab	float	NULL comment'	长期健康险责任准备金',
   indept_acc_liab	float	NULL comment'	独立账户负债',
   pledge_borr	float	NULL comment'	其中:质押借款',
   indem_payable	float	NULL comment'	应付赔付款',
   policy_div_payable	float	NULL comment'	应付保单红利',
   total_liab	float	NULL comment'	负债合计',
   treasury_share	float	NULL comment'	减:库存股',
   ordin_risk_reser	float	NULL comment'	一般风险准备',
   forex_differ	float	NULL comment'	外币报表折算差额',
   invest_loss_unconf	float	NULL comment'	未确认的投资损失',
   minority_int	float	NULL comment'	少数股东权益',
   total_hldr_eqy_exc_min_int	float	NULL comment'	股东权益合计(不含少数股东权益)',
   total_hldr_eqy_inc_min_int	float	NULL comment'	股东权益合计(含少数股东权益)',
   total_liab_hldr_eqy	float	NULL comment'	负债及股东权益总计',
   lt_payroll_payable	float	NULL comment'	长期应付职工薪酬',
   oth_comp_income	float	NULL comment'	其他综合收益',
   oth_eqt_tools	float	NULL comment'	其他权益工具',
   oth_eqt_tools_p_shr	float	NULL comment'	其他权益工具(优先股)',
   lending_funds	float	NULL comment'	融出资金',
   acc_receivable	float	NULL comment'	应收款项',
   st_fin_payable	float	NULL comment'	应付短期融资款',
   payables	float	NULL comment'	应付款项',
   hfs_assets	float	NULL comment'	持有待售的资产',
   hfs_sales	float	NULL comment'	持有待售的负债',
   created_at timestamp null default CURRENT_TIMESTAMP,
   PRIMARY KEY(id),
   CONSTRAINT symbol UNIQUE KEY `unique_code_end_date`(`end_date`, `code_id`,  `report_type`)
)ENGINE=MyISAM DEFAULT CHARSET=utf8 comment'资产负债表';


create table cashflow (
   id int not null auto_increment,
   code_id INT NOT NULL,
   date_id INT NOT NULL comment'公告日期',
   f_ann_date varchar(8) NOT NULL comment'实际公告日期',
   end_date varchar(8) NOT NULL comment'报告期',
   report_type tinyint NOT NULL comment'报告类型 1合并报表 2单季合并 3调整单季合并表 4调整合并报表 5调整前合并报表 6母公司报表 7母公司单季表 8 母公司调整单季表 9母公司调整表 10母公司调整前报表 11调整前合并报表 12母公司调整前报表',
   comp_type tinyint NOT NULL comment'公司类型(1一般工商业2银行3保险4证券)',
   net_profit	float null comment'净利润',
   finan_exp	float    null comment'财务费用',
   c_fr_sale_sg	float  null comment'销售商品、提供劳务收到的现金',
   recp_tax_rends	float  null comment'收到的税费返还',
   n_depos_incr_fi	float  null comment'客户存款和同业存放款项净增加额',
   n_incr_loans_cb	float  null comment'向中央银行借款净增加额',
   n_inc_borr_oth_fi	float  null comment'向其他金融机构拆入资金净增加额',
   prem_fr_orig_contr	float  null comment'收到原保险合同保费取得的现金',
   n_incr_insured_dep	float  null comment'保户储金净增加额',
   n_reinsur_prem	float  null comment'收到再保业务现金净额',
   n_incr_disp_tfa	float  null comment'处置交易性金融资产净增加额',
   ifc_cash_incr	float  null comment'收取利息和手续费净增加额',
   n_incr_disp_faas	float  null comment'处置可供出售金融资产净增加额',
   n_incr_loans_oth_bank	float  null comment'拆入资金净增加额',
   n_cap_incr_repur	float  null comment'回购业务资金净增加额',
   c_fr_oth_operate_a	float  null comment'收到其他与经营活动有关的现金',
   c_inf_fr_operate_a	float  null comment'经营活动现金流入小计',
   c_paid_goods_s	float  null comment'购买商品、接受劳务支付的现金',
   c_paid_to_for_empl	float  null comment'支付给职工以及为职工支付的现金',
   c_paid_for_taxes	float  null comment'支付的各项税费',
   n_incr_clt_loan_adv	float  null comment'客户贷款及垫款净增加额',
   n_incr_dep_cbob	float  null comment'存放央行和同业款项净增加额',
   c_pay_claims_orig_inco	float  null comment'支付原保险合同赔付款项的现金',
   pay_handling_chrg	float  null comment'支付手续费的现金',
   pay_comm_insur_plcy	float  null comment'支付保单红利的现金',
   oth_cash_pay_oper_act	float  null comment'支付其他与经营活动有关的现金',
   st_cash_out_act	float  null comment'经营活动现金流出小计',
   n_cashflow_act	float  null comment'经营活动产生的现金流量净额',
   oth_recp_ral_inv_act	float  null comment'收到其他与投资活动有关的现金',
   c_disp_withdrwl_invest	float  null comment'收回投资收到的现金',
   c_recp_return_invest	float  null comment'取得投资收益收到的现金',
   n_recp_disp_fiolta	float  null comment'处置固定资产、无形资产和其他长期资产收回的现金净额',
   n_recp_disp_sobu	float  null comment'处置子公司及其他营业单位收到的现金净额',
   stot_inflows_inv_act	float  null comment'投资活动现金流入小计',
   c_pay_acq_const_fiolta	float  null comment'购建固定资产、无形资产和其他长期资产支付的现金',
   c_paid_invest	float  null comment'投资支付的现金',
   n_disp_subs_oth_biz	float  null comment'取得子公司及其他营业单位支付的现金净额',
   oth_pay_ral_inv_act	float  null comment'支付其他与投资活动有关的现金',
   n_incr_pledge_loan	float  null comment'质押贷款净增加额',
   stot_out_inv_act	float  null comment'投资活动现金流出小计',
   n_cashflow_inv_act	float  null comment'投资活动产生的现金流量净额',
   c_recp_borrow	float  null comment'取得借款收到的现金',
   proc_issue_bonds	float  null comment'发行债券收到的现金',
   oth_cash_recp_ral_fnc_act	float  null comment'收到其他与筹资活动有关的现金',
   stot_cash_in_fnc_act	float  null comment'筹资活动现金流入小计',
   free_cashflow	float  null comment'企业自由现金流量',
   c_prepay_amt_borr	float  null comment'偿还债务支付的现金',
   c_pay_dist_dpcp_int_exp	float  null comment'分配股利、利润或偿付利息支付的现金',
   incl_dvd_profit_paid_sc_ms	float  null comment'其中:子公司支付给少数股东的股利、利润',
   oth_cashpay_ral_fnc_act	float  null comment'支付其他与筹资活动有关的现金',
   stot_cashout_fnc_act	float  null comment'筹资活动现金流出小计',
   n_cash_flows_fnc_act	float  null comment'筹资活动产生的现金流量净额',
   eff_fx_flu_cash	float  null comment'汇率变动对现金的影响',
   n_incr_cash_cash_equ	float  null comment'现金及现金等价物净增加额',
   c_cash_equ_beg_period	float  null comment'期初现金及现金等价物余额',
   c_cash_equ_end_period	float  null comment'期末现金及现金等价物余额',
   c_recp_cap_contrib	float  null comment'吸收投资收到的现金',
   incl_cash_rec_saims	float  null comment'其中:子公司吸收少数股东投资收到的现金',
   uncon_invest_loss	float  null comment'未确认投资损失',
   prov_depr_assets	float  null comment'加:资产减值准备',
   depr_fa_coga_dpba	float  null comment'固定资产折旧、油气资产折耗、生产性生物资产折旧',
   amort_intang_assets	float  null comment'无形资产摊销',
   lt_amort_deferred_exp	float  null comment'长期待摊费用摊销',
   decr_deferred_exp	float  null comment'待摊费用减少',
   incr_acc_exp	float  null comment'预提费用增加',
   loss_disp_fiolta	float  null comment'处置固定、无形资产和其他长期资产的损失',
   loss_scr_fa	float  null comment'固定资产报废损失',
   loss_fv_chg	float  null comment'公允价值变动损失',
   invest_loss	float  null comment'投资损失',
   decr_def_inc_tax_assets	float  null comment'递延所得税资产减少',
   incr_def_inc_tax_liab	float  null comment'递延所得税负债增加',
   decr_inventories	float  null comment'存货的减少',
   decr_oper_payable	float  null comment'经营性应收项目的减少',
   incr_oper_payable	float  null comment'经营性应付项目的增加',
   others	float  null comment'其他',
   im_net_cashflow_oper_act	float  null comment'经营活动产生的现金流量净额(间接法)',
   conv_debt_into_cap	float  null comment'债务转为资本',
   conv_copbonds_due_within_1y	float  null comment'一年内到期的可转换公司债券',
   fa_fnc_leases	float  null comment'融资租入固定资产',
   end_bal_cash	float  null comment'现金的期末余额',
   beg_bal_cash	float  null comment'减:现金的期初余额',
   end_bal_cash_equ	float  null comment'加:现金等价物的期末余额',
   beg_bal_cash_equ	float  null comment'减:现金等价物的期初余额',
   im_n_incr_cash_equ	float  null comment'现金及现金等价物净增加额(间接法)',
   created_at timestamp null default CURRENT_TIMESTAMP,
   PRIMARY KEY(id),

   CONSTRAINT symbol UNIQUE KEY `unique_code_end_date`(`end_date`, `code_id`, `report_type`)
)ENGINE=MyISAM DEFAULT CHARSET=utf8 comment'现金流量表';


create table fina_indicator (
   id int not null auto_increment,
   code_id INT NOT NULL,
   date_id int not null comment'公告日期',
   end_date varchar(8) NOT NULL comment'报告期',
   eps	float	null comment'基本每股收益',
   dt_eps	float	null comment'稀释每股收益',
   total_revenue_ps	float	null comment'每股营业总收入',
   revenue_ps	float	null comment'每股营业收入',
   interst_income	float	null comment'利息费用',
   ebit	float	null comment'息税前利润',
   ebitda	float	null comment'息税折旧摊销前利润',
   bps	float	null comment'每股净资产',
   ocfps	float	null comment'每股经营活动产生的现金流量净额',
   rd_exp	float	null comment'研发费用',
   current_ratio	float	null comment'流动比率',
   quick_ratio	float	null comment'速动比率',
   cash_ratio	float	null comment'保守速动比率',
   assets_turn	float	null comment'总资产周转率',
   debt_to_eqt	float	null comment'产权比率',

   dt_eps_yoy	float	null comment'稀释每股收益同比增长率(%)',
   tr_yoy	float	null comment'营业总收入同比增长率(%)',
   or_yoy	float	null comment'营业收入同比增长率(%)',
   q_op_yoy	float	null comment'营业利润同比增长率(%)(单季度)',
   q_op_qoq	float	null comment'营业利润环比增长率(%)(单季度)',
   equity_yoy	float	null comment'净资产同比增长率',
   netprofit_margin	float	null comment'销售净利率',
   grossprofit_margin	float	null comment'销售毛利率',
   cogs_of_sales	float	null comment'销售成本率',
   expense_of_sales	float	null comment'销售期间费用率',
   ebit_of_gr	float	null comment'息税前利润/营业总收入',

   created_at timestamp null default CURRENT_TIMESTAMP,
   PRIMARY KEY(id),
   index(code_id),
   index(end_date),
   CONSTRAINT symbol UNIQUE KEY `unique_code_date`( `date_id`,`code_id`)
)ENGINE=MyISAM DEFAULT CHARSET=utf8 comment'公司财务指标';

create table fina_audit(
   id int not null auto_increment,
   code_id INT NOT NULL,
   date_id int not null comment'公告日期',
   end_date varchar(8) NOT NULL comment'报告期',
   audit_result	varchar(64) null comment'审计结果',
   audit_fees	float comment'审计总费用（元）',
   audit_agency	varchar(64) null comment'会计事务所',
   audit_sign	varchar(16) null comment'签字会计师',
   created_at timestamp null default CURRENT_TIMESTAMP,
   PRIMARY KEY(id),
   index(code_id),
   CONSTRAINT symbol UNIQUE KEY `unique_code_date`( `end_date`,`code_id`)
)ENGINE=MyISAM DEFAULT CHARSET=utf8 comment'财务审计意见';


create table fina_mainbz(
   id int not null auto_increment,
   code_id INT NOT NULL,
   end_date varchar(8) NOT NULL comment'报告期',
   type char(1) not null comment'类型：P按产品 D按地区（请输入大写字母P或者D）',
   bz_item	varchar(64) null comment'主营业务来源',
   bz_sales	float  null comment'主营业务收入(元)',
   bz_profit float null comment'主营业务利润(元)',
   bz_cost	float null comment'主营业务成本(元)',
   curr_type varchar(8)	 null comment'货币代码',
   created_at timestamp null default CURRENT_TIMESTAMP,
   PRIMARY KEY(id),
   index(code_id),
   index(end_date),
)ENGINE=MyISAM DEFAULT CHARSET=utf8 comment'主营业务构成';

create table dividend(
   id int not null auto_increment,
   code_id INT NOT NULL,
   date_id INT not null comment'预案公告日',
   end_date varchar(8) NOT NULL comment'报告期',
   div_proc	varchar(16) null comment'实施进度',
   stk_div	float null comment'每股送转',
   stk_bo_rate	float null comment'每股送股比例',
   stk_co_rate	float null comment'每股转增比例',
   cash_div	float null comment'每股分红（税后）',
   cash_div_tax float null comment'每股分红（税前）',
   record_date	varchar(8) null comment'股权登记日',
   ex_date	varchar(8) null comment'除权除息日',
   pay_date varchar(8) null comment'派息日',
   div_listdate varchar(8) null comment'红股上市日',
   imp_ann_date varchar(8) null comment'实施公告日',
   created_at timestamp null default CURRENT_TIMESTAMP,
   PRIMARY KEY(id),
   index(code_id),
   index(end_date),
   CONSTRAINT symbol UNIQUE KEY `unique_code_date`( `date_id`,`code_id`)
)ENGINE=MyISAM DEFAULT CHARSET=utf8 comment'分红送股';


create table fina_sys (
   id int not null auto_increment,
   code_id INT NOT NULL,
   comp_type int null comment'公司类型，公司：1',
   end_date varchar(8) NOT NULL comment'报告期',
   f_ann_date varchar(8) NOT NULL comment'实际公告日期',
   adj_factor float null comment'报告期的调整因子',
   adj_close float null comment'报告期调整后收盘价',
   total_mv float null comment'总市值（万元）',
   holdernum float null comment'股东人数',
   holdernum_inc  float null comment'股东人数变动比率',
   freecash_mv float null comment'自由现金占净资产的比例平均值',
   roe float NULL comment'净资产收益率=归属于母公司利润/净资产',
   roe_mv float null comment'净资产收益率的均值',
   roe_std float null comment'roe标准差',
   op_pct float null comment'营业利润增速',
   mix_op_diff float null comment'短期营业增速-长期营业增速',
   pp float null comment'考虑到收入加速度， 赔率= 未来10年涨幅倍数/市现率，要求>2',
   pp0 float null comment'排除加速度的影响， 赔率= 未来10年涨幅倍数/市现率，要求>2',
   pp_tax float null comment '税率验证：税的价值比总价值，要和税率相差无几，比如如果企业税率25%，那么这pp_tax的值不能少于25太多，少太多表示少交税，利润可能造假',
   V float NULL comment' 未来10年涨幅倍数',
   V_tax float null comment'税未来10年的涨幅倍数',
   dpd_V float NULL comment'邓普顿计算未来10年总营业增速',
   dpd_RR float NULL comment'邓普顿比率，未来10年总营业增速/市盈率， 阀值1， 越大越好',
   pe float NULL comment'传统市盈率',
   pb float NULL comment'传统市净率',
   i_debt float NULL comment'有息负债率，阀值50，大于50危险',
   share_ratio float null comment'普通股在总资本中的占比（包括债券和优先股）',
   IER float null comment'利息保障倍数',
   capital_turn float null comment'资金周转率',
   oper_pressure float NULL comment'经营压力，应收-应付，值越小，经营压力越小',
   OPM float NULL comment'经营压力平均值',
   Z float NULL comment'Z=0.717*X1 + 0.847*X2 + 3.11*X3 + 0.420*X4 + 0.998*X5，低于1.2：即将破产，1.2-2.9: 灰色区域，大于2.9:没有破产风险',
   X1 float NULL comment'营运资本/总资产',
   X2 float NULL comment'留存收益/总资产',
   X3 float NULL comment'息税前利润 / 总资产',
   X4 float NULL comment'股东权益(除去商誉) / 负债(有息负债)',
   X5 float NULL comment' 销售收入 / 总资产',
   cash_gap float NULL comment'下年度现金缺口金额，少于0为下年度资金欠缺',
   cash_gap_r float NULL comment'下年度现金缺口比例， 大于0.1为下年度资金充足，少于0.1表示资金紧张，下年度难过',
   cash_act_in  float NULL comment'销售商品、提供劳务收到的现金变化比例',
   cash_act_out float NULL comment'经营活动现金流出变化比例',
   receiv_pct float NULL comment'净应收负债占收入的比例',
   dyr float NULL comment'股息率，就是股息占市值的比例',
   dyr_or float null comment'股息占当年收入比率',
   dyr_mean float null comment'股息率平均值',
   fix_asset_pct float null comment'固定资产增长比例',
   rev_pct float null comment'营业收入增长比率',
   equity_pct float null comment'净资产变化比例',
   dpba_of_assets float null comment'折旧费用占固定资产的比例',
   dpba_of_gross  float null comment'折旧费用占毛利润的比例',
   rd_exp_or float null comment'平均研发费用占收入的比例',
   income_rate float NULL comment'净利率',
   income_pct  float null comment'净利润变化比例',
   tax_rate float null comment'所得税费用/利润总额',
   tax_pct  float null comment'所得税费用变化比例',
   tax_payable_pct float null comment'应纳所得税变化比例',
   rev_pctmv  float null comment'营业收入变化率均值',
   total_assets_pctmv float null comment '总资产变化率均值',
   total_turn_pctmv float null comment '总资产周转率变化率均值',
   liab_pctmv  float null comment'负债增长平均值',
   income_pctmv  float null comment'净利润增长率均值',
   tax_payable_pctmv  float null comment'所得税增长率均值',
   equity_pctmv float null comment'所有者权益增长率均值',
   fix_asset_pctmv float null comment'固定资产增长率均值',
   def_tax_ratio float null comment'递延所得税占应纳税额的比例，持续增大，表示盈余管理越严重',
   LP float null comment'最低价',
   MP float null comment'价值',
   HP float null comment'最高价',
   win_return float null comment'赢得倍数',
   lose_return float null comment'输的倍数',
   odds float null comment'总的赔率=赢得倍数+输的倍数',
   created_at timestamp null default CURRENT_TIMESTAMP,
   PRIMARY KEY(id),
   CONSTRAINT symbol UNIQUE KEY `unique_code_end_date`( `code_id`, `end_date`)
)ENGINE=MyISAM DEFAULT CHARSET=utf8 comment'公司估值';

create table fina_super (
   id int not null auto_increment,
   code_id INT NOT NULL,
   end_date varchar(8) NOT NULL comment'依据报告日期',
   f_ann_date varchar(8) NOT NULL comment'实际公告日期',
   cal_date varchar(8) NOT NULL comment'当天',
   LP float null comment'最低价',
   MP float null comment'价值',
   HP float null comment'最高价',
   win_return float null comment'赢得倍数',
   lose_return float null comment'输的倍数',
   odds float null comment'总的赔率=赢得倍数+输的倍数',
   adj_factor float null comment'当天调整因子',
   total_mv float null comment'总市值（万元）',
   adj_LP float null comment'调整之后的最低价',
   adj_MP float null comment'调整之后的价值',
   adj_HP float null comment'调整之后的最高价',
   adj_close float null comment'当天收盘价',
   adj_high float null comment'当天最高价',
   adj_low float null comment'当天最低价',
   sell_p1 float null comment'第一个卖价',
   sell_p2 float null comment'第二个卖价',
   buy_p1 float null comment'第一个买价',
   buy_p2 float null comment'第二个买价',
   position tinyint null comment'当前价处于的位置：0：非买非卖，-1: 进入第一个买价区域， -2: 进入第二个买价区域，1: 开始进入第一个卖价区域，2:第二个卖价区域',
   basis tinyint null comment'position的差',
   created_at timestamp not null default CURRENT_TIMESTAMP,
   PRIMARY KEY(id),
   index(code_id),
   index(end_date),
   CONSTRAINT symbol UNIQUE KEY `unique_code_date`( `code_id`, `date_id`)
)ENGINE=MyISAM DEFAULT CHARSET=utf8 comment'动态跟踪比较股票价格和价值';

create table express (
   id int not null auto_increment,
   date_id INT NOT NULL comment'公告日期',
   code_id INT NOT NULL,
   end_date varchar(8) NOT NULL comment'截止日期',
   revenue	float null comment	'营业收入(元)',
   operate_profit	float NULL comment'营业利润(元)',
   total_profit	float NULL comment'利润总额(元)',
   n_income	float NULL comment'净利润(元)',
   total_assets	float NULL comment'总资产(元)',
   total_hldr_eqy_exc_min_int	float NULL comment'股东权益合计(不含少数股东权益)(元)',
   is_audit	tinyint NULL comment'是否审计： 1是 0否',
   created_at timestamp not null default CURRENT_TIMESTAMP,
   PRIMARY KEY(id),
   index(code_id),
   index(end_date)
)ENGINE=MyISAM DEFAULT CHARSET=utf8 comment'业绩快报';


create table stk_holdernumber (
   id int not null auto_increment,
   date_id INT NOT NULL comment'公告日期',
   code_id INT NOT NULL,
   end_date varchar(8) NOT NULL comment'截止日期',
   holder_num	int	not null comment'股东户数',
   created_at timestamp not null default CURRENT_TIMESTAMP,
   PRIMARY KEY(id),
   index(code_id),
   index(end_date)
)ENGINE=MyISAM DEFAULT CHARSET=utf8 comment'股东人数';

